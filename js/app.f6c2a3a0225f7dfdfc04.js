webpackJsonp([0],[function(t,e,n){(function(t){"use strict";function o(){s.platformBrowserDynamic().bootstrapModule(r.AppModule).then(function(e){return t.hot&&(t.hot.accept(),e.instance.hmrOnInit&&e.instance.hmrOnInit(t.hot.data),e.instance.hmrOnStatus&&t.hot.apply(function(t){e.instance.hmrOnStatus(t)}),e.instance.hmrOnCheck&&t.hot.check(function(t,n){e.instance.hmrOnCheck(t,n)}),e.instance.hmrOnDecline&&t.hot.decline(function(t){e.instance.hmrOnDecline(t)}),t.hot.dispose(function(t){e.instance.hmrOnDestroy&&e.instance.hmrOnDestroy(t),e.destroy(),e.instance.hmrAfterDestroy&&e.instance.hmrAfterDestroy(t)})),e})}function i(){return window.cordova?void document.addEventListener("deviceready",o,!1):o()}var a=n(2),s=n(20),r=n(24);a.enableProdMode(),e.main=i,"complete"===document.readyState?i():document.addEventListener("DOMContentLoaded",i)}).call(e,n(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(2),i=n(22),a=n(25),s=n(26),r=n(30),c=n(32),l=n(65),d=n(72),p=n(76),u=n(80),m=n(95),h=n(99),g=n(103),f=n(107),y=n(111),v=n(115),b=n(82),k=n(133);e.firebaseConfig={apiKey:"AIzaSyABlDFTj5lUcR9e_I2ZzrB6D26c5FU9mE8",authDomain:"parkabler.firebaseapp.com",databaseURL:"https://parkabler.firebaseio.com",storageBucket:"parkabler.appspot.com"};var w=function(){function t(t){this.appRef=t}return t.prototype.hmrOnInit=function(t){console.log("HMR store",t)},t.prototype.hmrOnDestroy=function(t){var e=this.appRef.components.map(function(t){return t.location.nativeElement});t.disposeOldHosts=r.createNewHosts(e),r.removeNgStyles()},t.prototype.hmrAfterDestroy=function(t){t.disposeOldHosts(),delete t.disposeOldHosts},t=__decorate([o.NgModule({imports:[i.BrowserModule,a.HttpModule,s.FormsModule,c.MaterialModule.forRoot(),k.routing],declarations:[l.AppComponent,d.HomeComponent,p.HeaderComponent,u.EditSpotComponent,m.MapControlsComponent,h.SpotsListComponent,g.MapComponent,f.PlacesComponent,y.TextComponent,v.RulesInfoComponent],providers:[b.MapLocationService,b.GeolocationService,b.SpotApiService,b.DestinationLocationService,b.DistanceService,b.RulesInfoService,b.EditSpotStateService],bootstrap:[l.AppComponent]}),__metadata("design:paramtypes",[o.ApplicationRef])],t)}();e.AppModule=w},,,,,,function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(31))},function(t,e){"use strict";function n(t){"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function o(t){var e=t.map(function(t){var e=document.createElement(t.tagName),n=e.style.display;e.style.display="none";var o=t.parentNode;return o.insertBefore(e,t),{currentDisplay:n,newNode:e}});return function(){e.forEach(function(t){t.newNode.style.display=t.currentDisplay,t.newNode=null,t.currentDisplay=null})}}function i(){Array.prototype.slice.call(document.head.querySelectorAll("style"),0).filter(function(t){return t.innerText.indexOf("_ng")!==-1}).map(function(t){return t.remove()})}function a(){var t=document.querySelectorAll("input");return Array.prototype.slice.call(t).map(function(t){return t.value})}function s(t){var e=document.querySelectorAll("input");t&&e.length===t.length&&t.forEach(function(t,n){var o=e[n];o.value=t,o.dispatchEvent(new CustomEvent("input",{detail:o.value}))})}function r(){var t=a();return function(){s(t)}}e.bootloader=n,e.createNewHosts=o,e.removeNgStyles=i,e.getInputValues=a,e.setInputValues=s,e.createInputTransfer=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(2);n(66);var i=function(){function t(){}return t=__decorate([o.Component({selector:"my-app",template:n(70),styles:[n(71)]}),__metadata("design:paramtypes",[])],t)}();e.AppComponent=i},function(t,e){},,,,function(t,e){t.exports="<main>\n  <router-outlet></router-outlet>\n</main>\n"},function(t,e){t.exports=":host{display:block;height:100%;width:100%}main{font-family:Arial, Helvetica, sans-serif;text-align:center;display:block;height:100%;width:100%}footer{text-align:center;font-size:0.8em}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(73))},function(t,e,n){"use strict";var o=n(2),i=function(){function t(){}return t.prototype.ngOnInit=function(){},t=__decorate([o.Component({selector:"my-home",template:n(74),styles:[n(75)]}),__metadata("design:paramtypes",[])],t)}();e.HomeComponent=i},function(t,e){t.exports='<pa-header></pa-header>\n<div class="content">\n  <div class="map-container">\n    <main-map></main-map>\n    <edit-spot></edit-spot>\n    <places-search></places-search>\n  </div>\n  <div class="bottom-drawer-container">\n    <spots-list></spots-list>\n  </div>\n</div>\n'},function(t,e){t.exports=".content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%;width:100%}.map-container{-ms-flex:1 1 auto;flex:1 1 auto;position:relative}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(77))},function(t,e,n){"use strict";var o=n(2),i=function(){function t(){}return t.prototype.ngOnInit=function(){},t=__decorate([o.Component({selector:"pa-header",template:n(78),styles:[n(79)]}),__metadata("design:paramtypes",[])],t)}();e.HeaderComponent=i},function(t,e){t.exports='<md-toolbar color="primary">\n  <!-- <button md-button>\n    Text\n  </button> -->\n  <button md-icon-button>\n    <md-icon>help</md-icon>\n  </button>\n  <span class="fill-remaining-space"></span>\n  <md-icon svgSrc="img/logo.svg" class="logo"></md-icon>\n  <span class="park">park</span><span class="abler">abler</span>\n  <span class="fill-remaining-space"></span>\n  <button md-icon-button [routerLink]="\'/rulesinfo\'">\n    <md-icon>info</md-icon>\n  </button>\n</md-toolbar>\n'},function(t,e){t.exports="md-toolbar{position:absolute;z-index:1;font-size:30px}md-button{min-width:40px}span{margin-left:15px}.fill-remaining-space{-ms-flex:1 1 auto;flex:1 1 auto}.logo{width:60px;height:60px}.park{margin:0;color:#FFFFFF}.abler{margin:0}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(81))},function(t,e,n){"use strict";var o=n(2),i=n(82);!function(t){t[t.Closed=0]="Closed",t[t.AddLocation=1]="AddLocation",t[t.AddDetails=2]="AddDetails",t[t.Submitted=3]="Submitted"}(e.States||(e.States={}));var a=e.States,s=function(){function t(t,e){this.mapLocationService=t,this.editSpotStateService=e,this.states=a}return t.prototype.ngOnInit=function(){var t=this;this.state=this.states.Closed,this.editSpotStateService.state.subscribe(function(e){switch(e){case 1:t.addLocation();break;case 2:t.addDetails();break;default:t.submit()}})},t.prototype.addLocation=function(){this.state=this.states.AddLocation,this.mapLocationService.centerOnMe(),this.mapLocationService.setZoom(20),this.mapLocationService.setMode("satellite")},t.prototype.addDetails=function(){this.state=this.states.AddDetails,this.mapLocationService.setZoom(20),this.mapLocationService.setMode("satellite")},t.prototype.submit=function(){var t=this;this.state=this.states.Submitted,this.mapLocationService.setZoom(15),this.mapLocationService.setMode("roadmap"),setTimeout(function(){t.state=t.states.Closed},3e3)},t.prototype.close=function(){this.state=this.states.Closed,this.mapLocationService.setZoom(15),this.mapLocationService.setMode("roadmap")},t=__decorate([o.Component({selector:"edit-spot",template:n(93),styles:[n(94)],providers:[]}),__metadata("design:paramtypes",[i.MapLocationService,i.EditSpotStateService])],t)}();e.EditSpotComponent=s},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(83)),o(n(84)),o(n(85)),o(n(88)),o(n(89)),o(n(90)),o(n(92))},function(t,e,n){"use strict";var o=n(2),i=function(){function t(){}return t.prototype.currentLocation=function(){return new Promise(function(t,e){window.navigator.geolocation.getCurrentPosition(function(e){t({lat:e.coords.latitude,lng:e.coords.longitude})},function(){console.log("Error: LocationService: currentLocation failed, defaulting to Boston"),t({lat:42.3601,lng:-71.0589})})})},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}();e.GeolocationService=i},function(t,e,n){"use strict";var o=n(2),i=n(83),a=n(3),s=function(){function t(t){this.geolocation=t,this._location=new a.Subject,this.current=this._location.asObservable(),this._zoom=new a.Subject,this.zoom=this._zoom.asObservable(),this._mode=new a.Subject,this.mode=this._mode.asObservable(),this.centerOnMe()}return t.prototype.set=function(t){this._location.next(t)},t.prototype.centerOnMe=function(){var t=this;this.geolocation.currentLocation().then(function(e){t._location.next(e)})["catch"](function(){console.log("Could not find destination")})},t.prototype.setZoom=function(t){this._zoom.next(t)},t.prototype.setMode=function(t){this._mode.next(t)},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[i.GeolocationService])],t)}();e.MapLocationService=s},function(t,e,n){"use strict";var o=n(2),i=n(86),a=n(87),s=function(){function t(){this._spots=new i.BehaviorSubject(a.spots),this.spots=this._spots.asObservable()}return t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}();e.SpotApiService=s},,function(t,e){t.exports={spots:[{lat:42.3605884,lng:-71.0566478,$key:0},{lat:42.3597105,lng:-71.0529804,$key:1},{lat:42.358866,lng:-71.0530764,$key:2},{lat:42.3621599,lng:-71.0609191,$key:3},{lat:42.362289,lng:-71.0607594,$key:4},{lat:42.3614474,lng:-71.0605307,$key:5},{lat:42.3587902,lng:-71.061605,$key:6},{lat:42.3590545,lng:-71.0628802,$key:7},{lat:42.3590336,lng:-71.0628288,$key:8},{lat:42.3590456,lng:-71.062739,$key:9},{lat:42.2999349,lng:-71.0722702,$key:10},{lat:42.3604596,lng:-71.065081,$key:11},{lat:42.360917,lng:-71.0652568,$key:12},{lat:42.3595269,lng:-71.0653017,$key:13},{lat:42.3585008,lng:-71.0645667,$key:14},{lat:42.3594206,lng:-71.063973,$key:15},{lat:42.3599005,lng:-71.1194061,$key:16},{lat:42.3620373,lng:-71.0635527,$key:17},{lat:42.3644379,lng:-71.063972,$key:18},{lat:42.3639065,lng:-71.0625429,$key:19},{lat:42.3639688,lng:-71.0621671,$key:20},{lat:42.3642348,lng:-71.0603951,$key:21},{lat:42.3634469,lng:-71.0594548,$key:22},{lat:42.3804097,lng:-71.0606693,$key:23},{lat:42.3584392,lng:-71.0572881,$key:24},{lat:42.3576883,lng:-71.0568698,$key:25},{lat:42.3557565,lng:-71.0580338,$key:26},{lat:42.3553195,lng:-71.0584263,$key:27},{lat:42.3560286,lng:-71.0540513,$key:28},{lat:42.357281,lng:-71.059575,$key:29},{lat:42.3650128,lng:-71.0534021,$key:30},{lat:42.3649048,lng:-71.0533043,$key:31},{lat:42.3668374,lng:-71.0527874,$key:32},{lat:42.3667707,lng:-71.0526204,$key:33},{lat:42.3619877,lng:-71.0528514,$key:34},{lat:42.3623309,lng:-71.0516395,$key:35},{lat:42.3630802,lng:-71.0518589,$key:36},{lat:42.3660619,lng:-71.050973,$key:37},{lat:42.3661621,lng:-71.0513005,$key:38},{lat:42.3667785,lng:-71.0521156,$key:39},{lat:42.3676835,lng:-71.0534823,$key:40},{lat:42.3682843,lng:-71.0561109,$key:41},{lat:42.366843,lng:-71.053588,$key:42},{lat:42.36712,lng:-71.054198,$key:43},{lat:42.36726,lng:-71.054511,$key:44},{lat:42.3672465,lng:-71.0546981,$key:45},{lat:42.366389,lng:-71.052565,$key:46},{lat:42.366245,lng:-71.0525357,$key:47},{lat:42.3662128,lng:-71.0523245,$key:48},{lat:42.3634196,lng:-71.0532428,$key:49},{lat:42.3637823,lng:-71.0520096,$key:50}]}},function(t,e,n){"use strict";var o=n(2),i=n(89),a=function(){function t(t){this.destinationLocationService=t}return t.prototype.getDistanceToDestinationFrom=function(t){return this.getDistance(t,this.destinationLocationService.current.getValue())},t.prototype.getDistance=function(t,e){return new Promise(function(n,o){var i=new window.google.maps.DistanceMatrixService;i.getDistanceMatrix({origins:t,destinations:[e],travelMode:"WALKING",unitSystem:window.google.maps.UnitSystem.METRIC},function(t,e){if("OK"!==e)alert("Error was: "+e),o(e);else{var i=t.rows.map(function(t){var e=t.elements,n=e.map(function(t){return"OK"!==t.status?1/0:t.distance.value});return Math.min.apply(Math,n)});n(i)}})})},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[i.DestinationLocationService])],t)}();e.DistanceService=a},function(t,e,n){"use strict";var o=n(2),i=n(83),a=n(86),s=function(){function t(t){var e=this;this.geolocation=t,this._location=new a.BehaviorSubject({lat:42.3601,lng:-71.058}),this.current=this._location,this.current.subscribe(function(t){e._lastPosition=t}),this.unset()}return t.prototype.set=function(t){this._location.next(t)},t.prototype.unset=function(){var t=this;this.geolocation.currentLocation().then(function(e){t._location.next(e)})["catch"](function(){console.log("Could not find Location")})},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[i.GeolocationService])],t)}();e.DestinationLocationService=s},function(t,e,n){"use strict";var o=n(2),i=n(91),a=function(){function t(){this.rules=i.Boston}return t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}();e.RulesInfoService=a},function(t,e){t.exports={Boston:[{title:"Where can I park with a disabled placard?",content:[{text:"Any parking space designated as a disabled parking spot. In Boston, this is always represented by  a blue disabled parking sign (see “Sign” section for details). Other parking ordinances may be in  effect, so obey all designated parking rules. Some spots are only in effect for a part of the day (for  example, 8am-8pm, and require a special resident permit thereafter). Other spots may require a  resident parking pass, so please pay attention and obey all designated parking rules as stated on  the sign."},{text:"Massachusetts law also allows vehicles with proper Disabled Parking authority to disregard public  meter fees. Currently, you can park for free without a time limit at any metered spot in the City of  Boston. Of note, Massachusetts Port Authority does not exempt meter fees for Disabled Parking."}]},{title:"Where am I NOT allowed to park?",content:[{text:"Do not park in a cross-hatch area (Zebra Stripe) adjacent to a HP space. This area is reserved for  van ramp access."},{text:"Disabled parking signs that say “ramp” underneath (see “sign” section). This sign denotes a ramp  so that individuals that have difficulty mounting a curve may move freely from street to sidewalk. You  should not park in front of this space."},{text:"If you do not have the appropriate residential sticker or are outside of the time window that is  detailed on the disabled parking sign."}]},{title:"I am traveling from out of state. Can I park in a disabled parking spot?",content:[{text:"Yes. The state of Massachusetts recognizes HP passes from all states."},{text:"Similarly, all U.S. States and Canada recognize the Massachusetts Disabled Placard as an authorized document for HP parking. However, New York City does not recognize Disabled Placards issued by any other authority other than the City of New York."}]},{title:"How can I apply for a HP sign in front of my house?",content:[{text:"The Registry of Motor Vehicles does not designate HP parking spaces. You must inquire with your local City or Town office. Many cities have Disability Commissions which can assist you with this."}]},{title:"New/Pending",content:[{text:"The City is currently considering enforcing the 2-hour limit on metered parking sports even with a disabled parking placard. No official changes have been made. If and when rule changes occur, we will keep you aware of them on this page."}]},{title:"Signs",content:[{img:"img/signs/1.jpg",text:"Appropriate disabled parking sport designation"},{img:"img/signs/2.jpg",text:"Designates “ramp” only. Do not park here"},{img:"img/signs/3.png",text:"Unfortunately, individuals may hang private signs on the street to try to designate disabled parking  spots for private use; however, these are not spots designated by the city and you should not park at  spots"}]}]}},function(t,e,n){"use strict";var o=n(2),i=n(3);!function(t){t[t.Closed=0]="Closed",t[t.AddLocation=1]="AddLocation",t[t.AddDetails=2]="AddDetails",t[t.Submitted=3]="Submitted"}(e.States||(e.States={}));var a=(e.States,function(){function t(){this._state=new i.Subject,this.state=this._state.asObservable()}return t.prototype.set=function(t){this._state.next(t)},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}());e.EditSpotStateService=a},function(t,e){t.exports='<div class="container" [ngClass]="{ editing: enteringSpot }" [ngSwitch]="state">\n  <!-- Marker Overlay -->\n  <div id="addMarker" *ngIf="state == states.AddLocation || state == states.AddDetails">\n    <svg width="60px" height="100px" viewBox="-19 -48 38 48">\n      <path d="M0-48c-9.8 0-17.7 7.8-17.7 17.4 0 15.5 17.7 30.6 17.7 30.6s17.7-15.4 17.7-30.6c0-9.6-7.9-17.4-17.7-17.4z" fill="#F44336" stroke="#FFFFFF" stroke-width="2"/>\n    </svg>\n  </div>\n\n  <!-- State.Closed -->\n  <button *ngSwitchCase="states.Closed" md-raised-button color="primary" (click)="addLocation()" class="add-spot">\n    ADD SPOT\n  </button>\n\n  <!-- State.AddLocation -->\n  <div *ngSwitchCase="states.AddLocation">\n    <md-card class="md-card-raised">\n      <md-card-subtitle>Place the Marker over the location of the spot</md-card-subtitle>\n      <md-card-content>\n        <md-card-subtitle>Where is the spot located?</md-card-subtitle>\n        <button md-button color="primary" (click)="close()">Cancel</button>\n        <button md-raised-button color="primary" (click)="addDetails()">Next</button>\n      </md-card-content>\n    </md-card>\n  </div>\n\n  <!-- State.AddDetails -->\n  <md-card *ngSwitchCase="states.AddDetails" class="md-card-raised">\n    <md-card-subtitle>Report a Parking Sport</md-card-subtitle>\n    <md-card-content>\n      <md-card-subtitle>How many spaces are there?</md-card-subtitle>\n      <md-button-toggle-group name="spaces-buttons">\n        <md-button-toggle value="1" checked=true>1</md-button-toggle>\n        <md-button-toggle value="2">2</md-button-toggle>\n        <md-button-toggle value="3">3</md-button-toggle>\n        <md-button-toggle value="4">4</md-button-toggle>\n        <md-button-toggle value="Many">Many</md-button-toggle>\n      </md-button-toggle-group>\n      <md-card-subtitle>What type of space is this?</md-card-subtitle>\n      <md-button-toggle-group name="spaces-buttons">\n        <md-button-toggle value="commercial">Commercial</md-button-toggle>\n        <md-button-toggle value="residential">Residential</md-button-toggle>\n        <md-button-toggle value="Don\'t Know" checked=true>Don\'t know</md-button-toggle>\n      </md-button-toggle-group>\n      <md-input aria-label="description" placeholder="Description"></md-input>\n      <br/>\n      <button md-button color="primary" (click)="addLocation()">Back</button>\n      <button md-raised-button color="primary" (click)="submit()">Submit</button>\n    </md-card-content>\n  </md-card>\n\n  <!-- State.Submitted -->\n  <div *ngSwitchCase="states.Submitted">\n    <md-card class="md-card-raised">\n      <md-card-subtitle>Thank you for your help</md-card-subtitle>\n      <md-card-content>\n        The details have been submitted, we will review the submission and add it to the map accordingly.\n      </md-card-content>\n    </md-card>\n  </div>\n</div>\n'},function(t,e){t.exports=".container{position:absolute;bottom:0px;left:0px;text-align:left;width:100%;max-width:400px;z-index:1000}.add-spot{bottom:20px;left:20px}md-card-header{height:30px;margin:0px;padding:0px}.spaces-buttons button[md-raised-button],.spaces-buttons button[md-button]{min-width:0px}#submit{float:right}md-input,md-radio-group,.spaces-buttons{display:block;padding-bottom:15px}md-radio-button{margin:10px}md-button-toggle-group{box-shadow:none;margin-bottom:20px;-ms-flex-wrap:wrap;flex-wrap:wrap}#addMarker{position:fixed;top:50%;left:50%}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(96))},function(t,e,n){"use strict";var o=n(2),i=n(82),a=function(){function t(t){this.mapLocationService=t,this.zoomChange=new o.EventEmitter,this.viewChange=new o.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.changeView=function(t){this.viewChange.emit(t)},t.prototype.changeZoom=function(t){this.zoomChange.emit(t)},__decorate([o.Output(),__metadata("design:type",Object)],t.prototype,"zoomChange",void 0),__decorate([o.Output(),__metadata("design:type",Object)],t.prototype,"viewChange",void 0),t=__decorate([o.Component({selector:"map-controls",template:n(97),styles:[n(98)]}),__metadata("design:paramtypes",[i.MapLocationService])],t)}();e.MapControlsComponent=a},function(t,e){t.exports='<div class="container">\n  <md-button-toggle-group name="spaces-buttons" class="map-view" color="secondary" (change)="changeView($event.value)">\n    <md-button-toggle value="roadmap" checked=true>Map</md-button-toggle>\n    <md-button-toggle value="satellite">Satellite</md-button-toggle>\n  </md-button-toggle-group>\n  <div class="zoom">\n    <button md-mini-fab (click)="changeZoom(1)"><md-icon>add</md-icon></button>\n    <button md-mini-fab (click)="changeZoom(-1)"><md-icon>remove</md-icon></button>\n  </div>\n</div>\n'},function(t,e){t.exports=".map-view{position:absolute;bottom:20px;right:20px;background-color:white}.zoom{position:absolute;bottom:70px;right:20px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.zoom button{border-radius:0px}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(100))},function(t,e,n){"use strict";var o=n(2),i=n(82),a=function(t,e){if(!t||!e)return 0;var n=6371,o=(e.lat-t.lat)*Math.PI/180,i=(e.lng-t.lng)*Math.PI/180,a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2),s=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),r=n*s;return r},s=function(){function t(t,e,n,o,i){var s=this;this.distanceService=t,this.spotApiService=e,this.destinationLocationService=n,this.editSpotStateService=o,this.zone=i,this.updateFilteredSpots=function(t){this.spots&&(this.filteredSpots=this.spots.filter(function(e){return a(e,t)<.2})),this.numSpot=this.filteredSpots.length,this.enabled=this.numSpot>0},this.expanded=!1,this.enabled=!1,this.numSpot=100,this.filteredSpots=[],e.spots.subscribe(function(t){s.zone.run(function(){s.spots=t.map(function(t){return{lat:t.lat,lng:t.lng}}),s.updateFilteredSpots(s.destinationLocationService.current.getValue())})}),n.current.subscribe(function(t){s.zone.run(function(){s.updateFilteredSpots(t)})})}return t.prototype.ngOnInit=function(){},t.prototype.toggleExapand=function(){this.expanded=!this.expanded;var t=this.filteredSpots.map(function(t){return{lat:t.lat,lng:t.lng}});if(t.length>0){var e=this;this.distanceService.getDistanceToDestinationFrom(t).then(function(t){for(var n=0;n<t.length;n++)e.filteredSpots[n].distanceToDest=t[n]})["catch"](function(t){console.log(t)})}},t.prototype.onReport=function(t){this.editSpotStateService.set(i.States.AddDetails)},t=__decorate([o.Component({selector:"spots-list",template:n(101),styles:[n(102)]}),__metadata("design:paramtypes",[i.DistanceService,i.SpotApiService,i.DestinationLocationService,i.EditSpotStateService,o.NgZone])],t)}();e.SpotsListComponent=s},function(t,e){t.exports='<div class="container" *ngIf="enabled" [ngClass]="{ expanded: expanded }">\n  <button md-button class="header" (click)="toggleExapand()">\n    {{numSpot}} spots near destination\n    <!-- <md-icon *ngIf="expanded">keyboard_arrow_down</md-icon>\n    <md-icon *ngIf="!expanded">keyboard_arrow_up</md-icon> -->\n  </button>\n\n  <md-nav-list class="content" *ngIf="expanded">\n    <md-list-item *ngFor="let spot of filteredSpots" class="list-item">\n      <!-- <md-list-text> -->\n        <div class="info">\n          <h4>1 Space</h4>\n          <span>within {{spot.distanceToDest}} meters</span>\n          <button  md-button color="primary" (click)="onReport()">\n            Report\n          </button>\n        </div>\n        <a md-button class="directions" href="http://maps.google.com/maps?daddr={{spot.lat}},{{spot.lng}}" target="_blank">\n          <md-icon class="icon">directions</md-icon>\n        </a>\n      <!-- </md-list-text> -->\n    </md-list-item>\n  </md-nav-list>\n</div>\n'},function(t,e){t.exports=".container{bottom:0px;left:0px;width:100%;z-index:1001}.header{width:100%}.content{max-height:300px;overflow-y:scroll;background-color:white}.list-item .info{width:80%;float:left;text-align:left}.list-item .info h4{margin:2px}.list-item .directions{width:20%;float:right}.list-item .directions .icon{font-size:40px}.divider{width:100%;height:1px;background-color:grey}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(104))},function(t,e,n){"use strict";var o=n(2),i=n(82),a=function(){function t(t,e,n,o){this.spotApi=t,this.mapLocation=e,this.geoLocation=n,this.destinationLocation=o,this.markers=[]}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){this.initializeMap()},t.prototype.initializeMap=function(){var t=this,e=this.googleMapsDiv.nativeElement;this.map=new window.google.maps.Map(e,{zoom:15,zoomControl:!1,mapTypeControl:!1,fullscreenControl:!1,rotateControl:!1,scaleControl:!1,streetViewControl:!1,tilt:0}),this.markerClusterer=new window.MarkerClusterer(this.map,this.markers),this.infoWindow=new window.google.maps.InfoWindow,this.infoWindowTemplate=function(t){return'<div><a md-raised-button color="primary" href="http://maps.google.com/maps?daddr='+t.$lat+","+t.$lng+'" target="_blank"> Navigate </a></div>'},this.mapLocation.current.subscribe(function(e){t.map.setCenter(e)}),this.mapLocation.zoom.subscribe(function(e){function n(t,e,o){o!==e&&(window.google.maps.event.addListenerOnce(t,"zoom_changed",function(i){n(t,e,o+(e>o?1:-1))}),setTimeout(function(){t.setZoom(o)},80))}n(t.map,e,t.map.getZoom())}),this.mapLocation.mode.subscribe(function(e){t.map.setMapTypeId(e)}),this.spotApi.spots.subscribe(function(e){t.markers.forEach(function(t,n){var o=e.find(function(e){return e.$key===t.$key});o?t.$lat===o.lat&&t.$lng===o.lng||(this.markerClusterer.removeMarker(t),t.setPosition({lat:o.lat,lng:o.lng}),t.$lat=o.lat,t.$lng=o.lng,this.markerClusterer.addMarker(t)):(this.markerClusterer.removeMarker(t),t.setMap(null),window.google.maps.event.clearInstanceListeners(t),this.markers.splice(n,1))},t),e.forEach(function(t){if(!this.markers.find(function(e){return e.$key===t.$key})){var e=new window.google.maps.Marker({position:{lat:t.lat,lng:t.lng},map:this.map,label:{text:"1",fontSize:"16px",fontWeight:"bold",color:"#FFF"},icon:{path:"M0-48c-9.8 0-17.7 7.8-17.7 17.4 0 15.5 17.7 30.6 17.7 30.6s17.7-15.4 17.7-30.6c0-9.6-7.9-17.4-17.7-17.4z",fillColor:"#009688",fillOpacity:.9,strokeColor:"#FFF",strokeWeight:1.5,scale:1,labelOrigin:new window.google.maps.Point(0,(-29))},$key:t.$key,$lat:t.lat,$lng:t.lng});e.addListener("click",function(){this.infoWindow.setContent(this.infoWindowTemplate(e)),this.infoWindow.open(this.map,e)}.bind(this)),this.markers.push(e),this.markerClusterer.addMarker(e)}},t)})},t.prototype.zoomChange=function(t){this.map.setZoom(this.map.getZoom()+t)},t.prototype.viewChange=function(t){this.map.setMapTypeId(t)},__decorate([o.ViewChild("googleMapsDiv"),__metadata("design:type",Object)],t.prototype,"googleMapsDiv",void 0),t=__decorate([o.Component({selector:"main-map",template:n(105),styles:[n(106)]}),__metadata("design:paramtypes",[i.SpotApiService,i.MapLocationService,i.GeolocationService,i.DestinationLocationService])],t)}();e.MapComponent=a},function(t,e){t.exports='<div #googleMapsDiv class="map"></div>\n<map-controls (zoomChange)="zoomChange($event)" (viewChange)="viewChange($event)"></map-controls>\n'},function(t,e){t.exports=".map{width:100%;height:100%;position:absolute;top:0;left:0}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(108))},function(t,e,n){"use strict";var o=n(2),i=n(82),a=function(){function t(t,e,n){this.mapLocation=t,this.geoLocation=e,this.destinationLocation=n}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t=this,e=this.placesInput.nativeElement;this.autocomplete=new window.google.maps.places.Autocomplete(e),this.autocomplete.addListener("place_changed",function(){var e=t.autocomplete.getPlace();return e.geometry?(t.mapLocation.set(e.geometry.location),t.mapLocation.setZoom(20),void t.destinationLocation.set({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()})):void console.log("places api did not return geometry")})},t.prototype.recenter=function(){var t=this;this.geoLocation.currentLocation().then(function(e){t.mapLocation.set(e),t.destinationLocation.set(e),t.mapLocation.setZoom(18)})["catch"](function(){console.log("Current Location Not found")})},__decorate([o.ViewChild("placesInput"),__metadata("design:type",Object)],t.prototype,"placesInput",void 0),t=__decorate([o.Component({selector:"places-search",template:n(109),styles:[n(110)]}),__metadata("design:paramtypes",[i.MapLocationService,i.GeolocationService,i.DestinationLocationService])],t)}();e.PlacesComponent=a},function(t,e){t.exports='<div class="places-search">\n  <button md-mini-fab color="secondary" class="search" disabled>\n    <md-icon>search</md-icon>\n  </button>\n  <input #placesInput type="text"/>\n  <button md-mini-fab color="primary" class="recenter" (click)="recenter()">\n    <md-icon svgSrc="./img/icons/ic_my_location.svg"></md-icon>\n  </button>\n</div>\n'},function(t,e){t.exports=".places-search{color:black;position:absolute;z-index:1;top:60px;left:0;right:0;padding:20px 10px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.places-search input{font-size:18px;font-family:Roboto;font-weight:300;display:inline-block;vertical-align:middle;border:none;padding:9px;padding-left:40px;height:22px;width:75%;text-overflow:ellipsis}.places-search .recenter{margin-left:-20px;height:40px;display:inline-block}.places-search .search{margin-right:-20px;height:40px;background-color:white;display:inline-block}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(112))},function(t,e,n){"use strict";var o=n(2),i=function(){function t(){}return t.prototype.ngOnInit=function(){console.log("Hello TextView")},t=__decorate([o.Component({selector:"text-view",template:n(113),styles:[n(114)]}),__metadata("design:paramtypes",[])],t)}();e.TextComponent=i},function(t,e){t.exports="<p>\n  Text View!!\n</p>\n"},function(t,e){t.exports="*{color:#f87c08}\n"},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(116))},function(t,e,n){"use strict";var o=n(2),i=n(82),a=n(117),s=n(130),r=function(){function t(t,e){this.rulesInfoService=t,this.route=e,this.updateContent=function(){if(this.rules)if(this.rules[this.id])this.title=this.rules[this.id].title,this.content=this.rules[this.id].content,this.isHome=!1;else{this.title="Rules and Regulations",this.content=[],this.isHome=!0;for(var t=0;t<this.rules.length;t++){var e=this.rules[t].title,n=["/rulesinfo",{id:t}];this.content.push({text:e,href:n})}}},this.rules=t.rules,this.title="",this.content=[],this.isHome=!0,this.updateContent()}return t.prototype.ngOnInit=function(){var t=this;this.sub=this.route.params.subscribe(function(e){t.id=+e.id,t.updateContent()})},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t=__decorate([o.Component({selector:"rules-info",template:n(131),styles:[n(132)],animations:s["default"]}),__metadata("design:paramtypes",[i.RulesInfoService,a.ActivatedRoute])],t)}();e.RulesInfoComponent=r},,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=[o.trigger("slideLeft",[o.state("in",o.style({transform:"translateX(0)"})),o.transition("void => *",[o.style({transform:"translateX(100%)"}),o.animate(400)]),o.transition("* => void",[o.animate(0,o.style({
transform:"translateX(-100%)"}))])]),o.trigger("slideRight",[o.state("in",o.style({transform:"translateX(0)"})),o.transition("void => *",[o.style({transform:"translateX(-100%)"}),o.animate(400)]),o.transition("* => void",[o.animate(0,o.style({transform:"translateX(100%)"}))])])]},function(t,e){t.exports='<div @slideLeft>\n  <md-toolbar color="primary">\n    <button md-button *ngIf=\'isHome\' [routerLink]="\'\'">< Map</button>\n    <button md-button *ngIf=\'!isHome\' [routerLink]="\'/rulesinfo\'">< Back</button>\n    <span>{{title}}</span>\n  </md-toolbar>\n\n  <!-- Show a nav list for nav pages (home page) -->\n  <md-nav-list *ngIf=\'isHome\' class="content" @slideRight>\n    <a md-list-item *ngFor="let item of content" [routerLink]="item.href">\n      {{item.text}}\n      <!-- TODO Chevron_right not showing up on phone -->\n      <span class="fill-remaining-space"></span>\n      <md-icon>chevron_right</md-icon>\n    </a>\n  </md-nav-list>\n\n  <!-- Show content for regular content -->\n  <div *ngIf=\'!isHome\' class="content" @slideLeft>\n    <div *ngFor="let item of content" class="line" [ngClass]="{separated: !!item.img}">\n      <img *ngIf=\'!!item.img\' src="{{item.img}}"/>\n      <div>{{item.text}}</div>\n    </div>\n  </div>\n</div>\n'},function(t,e){t.exports=".content{text-align:left}.content .line{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;padding:20px}.content .line img{margin:10px;height:100px;width:60px}.separated{border-bottom:1px solid #ccc}.fill-remaining-space{-ms-flex:1 1 auto;flex:1 1 auto}\n"},function(t,e,n){"use strict";var o=n(117),i=n(72),a=n(111),s=n(115),r=[{path:"",component:i.HomeComponent},{path:"text",component:a.TextComponent},{path:"rulesinfo",component:s.RulesInfoComponent},{path:"rulesinfo/:id",component:s.RulesInfoComponent},{path:"**",component:i.HomeComponent}];e.routing=o.RouterModule.forRoot(r)}]);
//# sourceMappingURL=app.f6c2a3a0225f7dfdfc04.js.map